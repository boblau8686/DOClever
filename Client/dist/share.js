webpackJsonp([4],{334:function(a,r,e){(function(a,r,e,t){location.hash.length<=1&&(alert("分享链接不正确"),window.close());var o=location.hash.substr(1);new a({el:"#app",data:{interface:{},param:[{query:[{name:"",must:0,remark:""}],header:[{name:"",value:"",remark:""}],body:[{name:"",type:0,must:0,remark:""}],param:[],bodyInfo:{type:0,rawType:0,rawTextRemark:"",rawFileRemark:"",rawText:"",rawJSON:[{name:"",must:1,type:0,remark:"",show:1,mock:"",drag:1}]},outInfo:{type:0,rawRemark:"",rawMock:"",jsonType:0},result:[],resultObject:[{name:"",must:0,type:0,remark:"",show:0,mock:"",drag:1}],resultArray:[{name:null,must:0,type:0,remark:"",show:0,mock:"",drag:1}]}],arrDraw:[],index:0},computed:{curParam:function(){return this.param[this.index]},paramSave:function(){return this.curParam.param},querySave:function(){return this.curParam.query.filter(function(a){return!!a.name})},headerSave:function(){return this.curParam.header.filter(function(a){return!!a.name})},bodySave:function(){return this.curParam.body.filter(function(a){return!!a.name})},queryCount:function(){return this.querySave.length},headerCount:function(){return this.headerSave.length},bodyCount:function(){return this.bodySave.length},paramCount:function(){return this.paramSave.length},rawMock:function(){var a=!1,e={};if(1==this.curParam.bodyInfo.type&&2==this.curParam.bodyInfo.rawType&&this.curParam.bodyInfo.rawJSON){e=0==this.curParam.bodyInfo.rawJSONType?{}:[],a=!0;var t=r.resultSave(this.curParam.bodyInfo.rawJSON);r.convertToJSON(t,e)}var o=r.handleMockInfo(0,this.curParam.param,this.curParam.query,this.curParam.header,a?e:this.curParam.body,this);return r.mock(this.curParam.outInfo.rawMock,o)},rawJSON:function(){var a=0==this.curParam.bodyInfo.rawJSONType?{}:[],e=r.resultSave(this.curParam.bodyInfo.rawJSON);return r.convertToJSON(e,a),r.format(JSON.stringify(a),1,e,this.status).draw},paramTab:function(){return"Param ("+this.paramCount+")"},queryTab:function(){return"Query ("+this.queryCount+")"},headerTab:function(){return"Header ("+this.headerCount+")"},bodyTab:function(){return"Body ("+(0==this.bodyInfo.type?this.bodyCount:"Raw")+")"},bodyInfo:function(){return this.curParam.bodyInfo},outInfo:function(){return this.curParam.outInfo},drawMix:function(){return this.arrDraw.length>0?this.arrDraw[this.index]:[]},editInfo:function(){return this.interface?this.interface.createdAt?(this.interface.owner?this.interface.owner.name:"")+"在"+this.interface.createdAt+"创建，最近修改被"+(this.interface.editor?this.interface.editor.name:"")+"在"+this.interface.updatedAt+"改动":"接口尚未保存":""}},methods:{showInfo:function(t){this.interface=t;for(var o=this,n=1;n<o.interface.param.length;n++)o.param.push(e.clone(o.param[0]));o.interface.param.forEach(function(e,t){if(o.param[t].name=e.name,o.param[t].id=e.id,o.param[t].remark=e.remark,e.queryParam&&e.queryParam.length>0?(o.param[t].query=e.queryParam,o.param[t].query.forEach(function(a){a.value&&"object"==typeof a.value&&a.value instanceof Array&&(a.value={type:0,status:"",data:a.value.map(function(a){return{value:a,remark:""}})})}),o.param[t].query.push({name:"",must:0,remark:""})):e.queryParam=o.param[t].query,e.bodyParam&&e.bodyParam.length>0?(o.param[t].body=e.bodyParam,o.param[t].body.forEach(function(a){a.value&&"object"==typeof a.value&&a.value instanceof Array&&(a.value={type:0,status:"",data:a.value.map(function(a){return{value:a,remark:""}})})}),o.param[t].body.push({name:"",type:0,must:0,remark:""})):e.bodyParam=o.param[t].body,e.header&&e.header.length>0?(o.param[t].header=e.header,o.param[t].header.push({name:"",value:"",remark:""})):e.header=o.param[t].header,e.outParam&&e.outParam.length>0?(r.initResultShow(e.outParam),o.param[t].result=e.outParam):e.outParam=o.param[t].result,e.restParam&&e.restParam.length>0?(o.param[t].param=e.restParam,o.param[t].param.forEach(function(a){a.value&&"object"==typeof a.value&&a.value instanceof Array&&(a.value={type:0,status:"",data:a.value.map(function(a){return{value:a,remark:""}})})})):e.restParam=o.param[t].param,e.bodyInfo){o.param[t].bodyInfo=e.bodyInfo,void 0===o.param[t].bodyInfo.rawText&&a.set(o.param[t].bodyInfo,"rawText",""),void 0===o.param[t].bodyInfo.rawTextRemark&&a.set(o.param[t].bodyInfo,"rawTextRemark",""),void 0===o.param[t].bodyInfo.rawFileRemark&&a.set(o.param[t].bodyInfo,"rawFileRemark",""),void 0===o.param[t].bodyInfo.rawJSONType&&a.set(o.param[t].bodyInfo,"rawJSONType",0),void 0==o.param[t].bodyInfo.rawJSON?a.set(o.param[t].bodyInfo,"rawJSON",o.param[t].rawJSONObject):(r.initResultShow(o.param[t].bodyInfo.rawJSON),0==o.param[t].bodyInfo.rawJSONType?o.param[t].rawJSONObject=o.param[t].bodyInfo.rawJSON:o.param[t].rawJSONArray=o.param[t].bodyInfo.rawJSON);for(var n=!1,u=0;u<o.param[t].header.length;u++){var m=o.param[t].header[u];if("content-type"==m.name.toLowerCase()&&m.value.toLowerCase().indexOf("application/json")>-1){n=!0;break}}if(n&&o.param[t].bodyInfo.rawText){var m;try{m=JSON.parse(o.param[t].bodyInfo.rawText)}catch(a){}if(m){var f=[];for(var i in m)r.handleResultData(i,m[i],f,null,1,null,1);o.param[t].bodyInfo.rawJSON=f,o.param[t].bodyInfo.rawJSONType=m instanceof Array?1:0,o.param[t].bodyInfo.rawText="",o.param[t].bodyInfo.rawType=2}}}else e.bodyInfo=o.param[t].bodyInfo;e.outInfo?(o.param[t].outInfo=e.outInfo,void 0===o.param[t].outInfo.jsonType?a.set(o.param[t].outInfo,"jsonType",0):0==o.param[t].outInfo.jsonType?o.param[t].resultObject=o.param[t].result:o.param[t].resultArray=o.param[t].result):e.outInfo=o.param[t].outInfo,e.before?"string"==typeof e.before&&(e.before={mode:0,code:e.before}):a.set(e,"before",{mode:0,code:""}),o.param[t].before=e.before,e.after?"string"==typeof e.after&&(e.after={mode:0,code:e.after}):a.set(e,"after",{mode:0,code:""}),o.param[t].after=e.after;var m=1==o.param[t].outInfo.jsonType?[]:{},f=r.resultSave(o.param[t].result),p=!1,d={};if(1==o.param[t].bodyInfo.type&&2==o.param[t].bodyInfo.rawType&&o.param[t].bodyInfo.rawJSON){d=0==o.param[t].bodyInfo.rawJSONType?{}:[],p=!0;var s=r.resultSave(o.param[t].bodyInfo.rawJSON);r.convertToJSON(s,d)}var y=r.handleMockInfo(0,o.param[t].param,o.param[t].query,o.param[t].header,p?d:o.param[t].body);r.convertToJSON(f,m,y),o.arrDraw.push(r.format(JSON.stringify(m),1,f,this.status).draw)})},methodColor:function(a){return r.methodColor(a)}},created:function(){var a=this;t.get("/interface/share",{id:o}).then(function(r){200==r.code?(e.stopLoading(),a.showInfo(r.data)):(alert("接口不存在!"),window.close())})}});e.ready(function(){e.startLoading()})}).call(r,e(3),e(9),e(0),e(2))}},[334]);
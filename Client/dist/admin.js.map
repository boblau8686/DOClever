{"version":3,"sources":["webpack:///./web/admin/admin.js","webpack:///./web/admin/store.js"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;ACxFD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,CAAC,C","file":"admin.js","sourcesContent":["var mainNav=require(\"../component/mainNav.vue\")\nvar user=require(\"./component/user.vue\")\nvar project=require(\"./component/project.vue\")\nvar team=require(\"./component/team.vue\")\nvar interface=require(\"./component/interface.vue\")\nvar setting=require(\"./component/setting.vue\")\nvar store=require(\"./store\")\nif(!sessionStorage.getItem(\"admin\"))\n{\n    location.href=\"/\"\n}\nvar vue=new Vue({\n    el: \"#app\",\n    data: {\n        tab:\"user\"\n    },\n    components:{\n        \"mainnav\":mainNav,\n        \"project\":project,\n        \"team\":team,\n        \"user\":user,\n        \"interface\":interface,\n        \"setting\":setting,\n    },\n    store:store,\n    methods:{\n\n    },\n    created:function () {\n        var _this=this;\n        Promise.all([\n            net.get(\"/admin/userstatistics\"),\n            net.get(\"/admin/projectstatistics\"),\n            net.get(\"/admin/teamstatistics\"),\n            net.get(\"/admin/interfacestatistics\")\n        ]).then(function (data) {\n            var obj1=data[0];\n            var obj2=data[1];\n            var obj3=data[2];\n            var obj4=data[3];\n            if(obj1.code==200)\n            {\n                store.commit(\"setUserInfo\",obj1.data)\n            }\n            else\n            {\n                throw obj1.msg;\n            }\n            if(obj2.code==200)\n            {\n                store.commit(\"setProjectInfo\",obj2.data)\n            }\n            else\n            {\n                throw obj2.msg;\n            }\n            if(obj3.code==200)\n            {\n                store.commit(\"setTeamInfo\",obj3.data)\n            }\n            else\n            {\n                throw obj3.msg;\n            }\n            if(obj4.code==200)\n            {\n                store.commit(\"setInterfaceInfo\",obj4.data)\n            }\n            else\n            {\n                throw obj4.msg;\n            }\n            $.stopLoading();\n        }).catch(function (err) {\n            $.stopLoading();\n            if(typeof(err)==\"string\")\n            {\n                $.notify(err,0);\n            }\n            else\n            {\n                $.notify(\"获取失败\",0);\n            }\n        })\n    }\n})\n$.ready(function () {\n    $.startLoading();\n})\n\n\n\n\n\n\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./web/admin/admin.js\n// module id = 313\n// module chunks = 2","module.exports=new Vuex.Store({\n    state:{\n        user:{\n            total:0,\n            todayLogin:0,\n            todayRegister:0,\n            list:[]\n        },\n        project:{\n            total:0,\n            todayCreate:0,\n            list:[]\n        },\n        team:{\n            total:0,\n            todayCreate:0,\n            list:[]\n        },\n        interface:{\n            total:0,\n            todayCreate:0,\n        },\n    },\n    mutations:{\n        setUserInfo:function (state,data) {\n            state.user.total=data.total;\n            state.user.todayLogin=data.login;\n            state.user.todayRegister=data.register;\n        },\n        setProjectInfo:function (state,data) {\n            state.project.total=data.total;\n            state.project.todayCreate=data.today;\n        },\n        setTeamInfo:function (state,data) {\n            state.team.total=data.total;\n            state.team.todayCreate=data.today;\n        },\n        setInterfaceInfo:function (state,data) {\n            state.interface.total=data.total;\n            state.interface.todayCreate=data.today;\n        }\n    },\n    actions:{\n        userList:function (context,query) {\n            return net.get(\"/admin/userlist\",query).then(function (data) {\n                if(data.code==200)\n                {\n                    context.state.user.list=data.data;\n                }\n                return data;\n            })\n        },\n        saveUser:function (context,query) {\n            return net.upload(\"post\",\"/admin/user\",query).then(function (data) {\n                if(data.code==200)\n                {\n                    context.state.user.list.forEach(function (obj) {\n                        if(obj._id==data.data._id)\n                        {\n                            obj.name=data.data.name;\n                            obj.photo=data.data.photo;\n                            obj.state=data.data.state;\n                        }\n                    })\n                }\n                return data\n            })\n        },\n        removeUser:function (context,query) {\n            return net.delete(\"/admin/user\",{\n                id:query.id\n            }).then(function (data) {\n                if(data.code==200)\n                {\n                    context.state.user.list.splice(query.index,1);\n                }\n                return data;\n            })\n        },\n        saveProject:function (context,query) {\n            return net.put(\"/admin/project\",query).then(function (data) {\n                if(data.code==200)\n                {\n                    context.state.project.list.forEach(function (obj) {\n                        if(obj._id==data.data._id)\n                        {\n                            obj.name=data.data.name;\n                            obj.public=data.data.public;\n                        }\n                    })\n                }\n                return data\n            })\n        },\n        removeProject:function (context,query) {\n            return net.delete(\"/admin/project\",{\n                id:query.id\n            }).then(function (data) {\n                if(data.code==200)\n                {\n                    context.state.project.list.splice(query.index,1);\n                }\n                return data;\n            })\n        },\n        projectList:function (context,query) {\n            return net.get(\"/admin/projectlist\",query).then(function (data) {\n                if(data.code==200)\n                {\n                    context.state.project.list=data.data;\n                }\n                return data;\n            })\n        },\n        teamList:function (context,query) {\n            return net.get(\"/admin/teamlist\",query).then(function (data) {\n                if(data.code==200)\n                {\n                    context.state.team.list=data.data;\n                }\n                return data;\n            })\n        },\n        removeTeam:function (context,query) {\n            return net.delete(\"/admin/team\",{\n                id:query.id\n            }).then(function (data) {\n                if(data.code==200)\n                {\n                    context.state.team.list.splice(query.index,1);\n                }\n                return data;\n            })\n        },\n        editPassword:function (context,query) {\n            return net.put(\"/admin/password\",query).then(function (data) {\n                return data;\n            })\n        }\n    }\n\n})\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./web/admin/store.js\n// module id = 86\n// module chunks = 2"],"sourceRoot":""}